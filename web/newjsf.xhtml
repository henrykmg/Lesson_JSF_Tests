<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Quiz demo</title>
        <h:outputStylesheet library="css" name="bootstrap.css"/>
        <h:outputStylesheet library="css" name="main.css"/>
     
    </h:head>
    <h:body>
       
        <div class="container">
            <div class="row" style="height:20px;"></div>
            <div class="row">
                <div class="col-lg-3"></div>
                <div class="col-lg-6">
       
                    <h:form prependId="false">
       
                        <div class="jumbotron jbt" id="j1"> 
                            <p:panel id="p2">
                                <f:facet name="header">
                                    <h:panelGroup>
                                      <h:outputText value="Question #{(x->x==0?'':x)(quizBean.qno)}" rendered="#{quizBean.quizon}"/>  
                                      <p:rating id="rtn" value="#{quizBean.qno}" readonly="true" rendered="true"></p:rating>
                                    </h:panelGroup>
                                </f:facet>
                                
<f:facet name="footer">
    <h:panelGrid columns="3" rowClasses="r" style="display: block;width: 100%;">
                         
        <h:outputFormat id="score" value="Score :{0}" style="padding: 20px;margin-right: 20px;border-bottom-left-radius:50px;border-top-left-radius:50px; width:90%;background-color: #ffde49;text-align: center;">
         <f:param value="#{quizBean.score}"/>
     </h:outputFormat>
 
        <p:commandButton id="submit2" value="#{quizBean.quizStatus}" class="btn btn-success" style="height: 55px;width: 100%;"  >
         <f:ajax event="click" listener="#{quizBean.startQuiz()}" render="result result1 p1 rtn p2 pt startimg submit2" rendered="#{quizBean.startScreen}" />
     </p:commandButton>
                                
     <p:commandButton id="submit1" value="Next" class="btn btn-success" style="height:55px;width: 100%;" rendered="#{quizBean.quizon}">
                             <f:ajax event="click" listener="#{quizBean.ask()}" render="result result1 p1 rtn p2 pt score" />
                        </p:commandButton>
                               
                            </h:panelGrid>
</f:facet>
                                <h1>      <h:outputFormat id="result1" value="{0}" rendered="#{quizBean.quizon}" >
                                      <f:param value="#{(x->x==null?'Score:0':x)(quizBean.qsn)}"/>
                                </h:outputFormat>
                            </h1>
                                <h:graphicImage id="startimg" library="img" name="images1.png" width="400" rendered="#{quizBean.startScreen}"/>
                                <h:panelGrid columns="2" rowClasses="r" headerClass="ui-accordion-header" id="p1" role="presentation" rendered="#{quizBean.quizon}" style="width: 100%;">
                                <f:facet name="header">
                                    <h:panelGroup>Click on the most correct answer..</h:panelGroup>
                                </f:facet>
       
      
     
                                    <p:commandButton id="a1"  value="#{quizBean.opts[0]}" disabled="#{quizBean.chances}" style="width: 100%;">
                                    <p:ajax event="click" update="output a1 a2 a3 a4 score" async="true" listener="#{quizBean.checkAnswer(quizBean.opts[0])}" />
                                </p:commandButton>
       
                                <p:commandButton id="a2"  value="#{quizBean.opts[1]}" disabled="#{quizBean.chances}" style="width: 100%;">
                                     <p:ajax event="click" update="output a1 a2 a3 a4 score" listener="#{quizBean.checkAnswer(quizBean.opts[1])}" />
                                </p:commandButton>
       
       <p:commandButton id="a3"  value="#{quizBean.opts[2]}" disabled="#{quizBean.chances}" style="width: 100%;">
                                     <p:ajax event="click" update="output a1 a2 a3 a4 score" listener="#{quizBean.checkAnswer(quizBean.opts[2])}" />
                                </p:commandButton>
       
       <p:commandButton id="a4"  value="#{quizBean.opts[3]}" disabled="#{quizBean.chances}" style="width: 100%;">
                                     <p:ajax event="click" update="output a1 a2 a3 a4 score" listener="#{quizBean.checkAnswer(quizBean.opts[3])}" />
                                </p:commandButton>
                                    
                               
                               
   </h:panelGrid>
                                <h:outputText value="#{quizBean.correct}" id="output" style="background-color:#{quizBean.bgColor};color:white;width:100%;padding: 10px;margin-top:0px;display: block;text-align: center;"/>
                               
</p:panel>
                        </div>
                      
                        <h:outputScript library="js" name="jquery.js" target="head"></h:outputScript>
                        <script type="text/javascript">
                            <![CDATA[
                            
                            $(document).ready(function(){
                                                             
                                
                            });
                            ]]>
                        </script>
                        <p:link outcome="newjsf1" value="Fill in Application form here.."/>
                   </h:form>
            
                </div>
                 <div class="col-lg-3"></div>
            </div>
        </div>
    </h:body>
</html>

